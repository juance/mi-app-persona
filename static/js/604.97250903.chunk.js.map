{"version":3,"file":"static/js/604.97250903.chunk.js","mappings":"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","sources":["components/common/SyncForceButton.js","pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiRefreshCw } from 'react-icons/fi';\nimport { syncAllUserData } from '../../services/syncService';\nimport { showInfo, showError } from './Notification';\nimport { supabase } from '../../services/supabase';\n\nconst SyncButton = styled.button`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  background-color: ${props => props.$syncing ? 'var(--bg-medium)' : props.disabled ? 'var(--bg-medium)' : 'var(--primary-color)'};\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 8px 16px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: ${props => props.$syncing || props.disabled ? 'not-allowed' : 'pointer'};\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  opacity: ${props => props.disabled ? 0.7 : 1};\n\n  &:hover {\n    background-color: ${props => props.$syncing || props.disabled ? 'var(--bg-medium)' : 'var(--primary-dark)'};\n  }\n\n  svg {\n    animation: ${props => props.$syncing ? 'spin 1s linear infinite' : 'none'};\n  }\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n\nconst SyncForceButton = () => {\n  const [syncing, setSyncing] = useState(false);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // Obtener el usuario actual directamente de Supabase\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        const { data: { session } } = await supabase.auth.getSession();\n        setUser(session?.user || null);\n      } catch (error) {\n        console.error('Error al obtener la sesión:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getUser();\n\n    // Suscribirse a cambios en la autenticación\n    const { data: authListener } = supabase.auth.onAuthStateChange(\n      (event, session) => {\n        setUser(session?.user || null);\n      }\n    );\n\n    return () => {\n      authListener?.subscription?.unsubscribe();\n    };\n  }, []);\n\n  const handleSync = async () => {\n    if (syncing || !user) return;\n\n    setSyncing(true);\n    showInfo('Iniciando sincronización forzada...');\n\n    try {\n      // Usar un ID de usuario temporal si no hay usuario autenticado\n      const userId = user?.id || 'guest_user';\n      const result = await syncAllUserData(userId, true);\n\n      if (result.success) {\n        showInfo(`Sincronización completada: ${result.succeeded} almacenes sincronizados`);\n      } else {\n        showError(`Sincronización parcial: ${result.succeeded} sincronizados, ${result.failed} fallidos`);\n      }\n    } catch (error) {\n      console.error('Error al forzar sincronización:', error);\n      showError('Error al sincronizar datos');\n    } finally {\n      setSyncing(false);\n    }\n  };\n\n  // Mostrar un botón deshabilitado mientras se carga o si no hay usuario\n  const isDisabled = loading || !user;\n\n  return (\n    <SyncButton\n      onClick={handleSync}\n      $syncing={syncing}\n      disabled={isDisabled}\n      className=\"sync-force-button\"\n    >\n      <FiRefreshCw size={16} />\n      {syncing ? 'Sincronizando...' : isDisabled ? 'Inicia sesión para sincronizar' : 'Sincronizar datos'}\n    </SyncButton>\n  );\n};\n\nexport default SyncForceButton;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { FiCheckSquare, FiDollarSign, FiTrendingUp, FiTarget, FiCalendar, FiDatabase } from 'react-icons/fi';\nimport SyncForceButton from '../components/common/SyncForceButton';\n\nconst DashboardContainer = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nconst DashboardHeader = styled.div`\n  margin-bottom: 36px;\n\n  h1 {\n    font-size: 2.2rem;\n    font-weight: 700;\n    color: var(--text-dark);\n    margin-bottom: 12px;\n    position: relative;\n    padding-bottom: 12px;\n\n    &::after {\n      content: '';\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 60px;\n      height: 4px;\n      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));\n      border-radius: 2px;\n    }\n  }\n\n  p {\n    color: var(--text-medium);\n    font-size: 1.1rem;\n  }\n`;\n\nconst ModulesGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 24px;\n  margin-bottom: 40px;\n`;\n\nconst ModuleCard = styled(Link)`\n  background-color: var(--card-bg);\n  border-radius: var(--border-radius);\n  padding: 24px;\n  box-shadow: var(--card-shadow);\n  transition: all var(--transition-speed);\n  text-decoration: none;\n  color: var(--text-dark);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n\n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: var(--card-shadow-hover);\n    color: var(--text-dark);\n  }\n`;\n\nconst ModuleIcon = styled.div`\n  font-size: 2.5rem;\n  margin-bottom: 16px;\n  color: var(--primary-color);\n  width: 80px;\n  height: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(99, 102, 241, 0.1);\n  border-radius: 50%;\n  transition: all var(--transition-speed);\n\n  ${ModuleCard}:hover & {\n    transform: scale(1.1);\n    background-color: rgba(99, 102, 241, 0.15);\n  }\n`;\n\nconst ModuleTitle = styled.h3`\n  margin: 0 0 8px 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n`;\n\nconst ModuleDescription = styled.p`\n  margin: 0;\n  color: var(--text-medium);\n  font-size: 0.95rem;\n`;\n\nconst WelcomeSection = styled.div`\n  background-color: var(--card-bg);\n  border-radius: var(--border-radius);\n  padding: 32px;\n  margin-bottom: 32px;\n  box-shadow: var(--card-shadow);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n`;\n\nconst WelcomeTitle = styled.h2`\n  font-size: 1.8rem;\n  font-weight: 600;\n  margin-bottom: 16px;\n  color: var(--text-dark);\n`;\n\nconst WelcomeText = styled.p`\n  font-size: 1.1rem;\n  color: var(--text-medium);\n  max-width: 800px;\n  margin: 0 auto 24px;\n  line-height: 1.6;\n`;\n\nconst Dashboard = () => {\n  return (\n    <DashboardContainer>\n      <DashboardHeader>\n        <h1>Dashboard</h1>\n        <p>Bienvenido a tu panel de control personal</p>\n      </DashboardHeader>\n\n      <WelcomeSection>\n        <WelcomeTitle>¡Bienvenido a tu App Personal!</WelcomeTitle>\n        <WelcomeText>\n          Esta aplicación te ayudará a gestionar tus tareas, finanzas, inversiones, metas financieras y calendario en un solo lugar.\n          Explora los diferentes módulos para comenzar a organizar tu vida personal.\n        </WelcomeText>\n        <SyncForceButton />\n      </WelcomeSection>\n\n      <ModulesGrid>\n        <ModuleCard to=\"/tasks\">\n          <ModuleIcon>\n            <FiCheckSquare />\n          </ModuleIcon>\n          <ModuleTitle>Tareas</ModuleTitle>\n          <ModuleDescription>Gestiona tus tareas y pendientes</ModuleDescription>\n        </ModuleCard>\n\n        <ModuleCard to=\"/finances\">\n          <ModuleIcon>\n            <FiDollarSign />\n          </ModuleIcon>\n          <ModuleTitle>Finanzas</ModuleTitle>\n          <ModuleDescription>Controla tus ingresos y gastos</ModuleDescription>\n        </ModuleCard>\n\n        <ModuleCard to=\"/investments\">\n          <ModuleIcon>\n            <FiTrendingUp />\n          </ModuleIcon>\n          <ModuleTitle>Inversiones</ModuleTitle>\n          <ModuleDescription>Gestiona tu cartera de inversiones</ModuleDescription>\n        </ModuleCard>\n\n        <ModuleCard to=\"/financial-goals\">\n          <ModuleIcon>\n            <FiTarget />\n          </ModuleIcon>\n          <ModuleTitle>Metas Financieras</ModuleTitle>\n          <ModuleDescription>Establece y sigue tus objetivos financieros</ModuleDescription>\n        </ModuleCard>\n\n        <ModuleCard to=\"/calendar\">\n          <ModuleIcon>\n            <FiCalendar />\n          </ModuleIcon>\n          <ModuleTitle>Calendario</ModuleTitle>\n          <ModuleDescription>Organiza tus eventos y citas</ModuleDescription>\n        </ModuleCard>\n\n        <ModuleCard as=\"div\" onClick={() => document.querySelector('.sync-force-button').click()}>\n          <ModuleIcon>\n            <FiDatabase />\n          </ModuleIcon>\n          <ModuleTitle>Sincronización</ModuleTitle>\n          <ModuleDescription>Sincroniza tus datos entre dispositivos</ModuleDescription>\n        </ModuleCard>\n      </ModulesGrid>\n    </DashboardContainer>\n  );\n};\n\nexport default Dashboard;\n"],"names":["SyncButton","styled","button","props","$syncing","disabled","SyncForceButton","syncing","setSyncing","useState","user","setUser","loading","setLoading","useEffect","async","data","session","supabase","auth","getSession","error","console","getUser","authListener","onAuthStateChange","event","_authListener$subscri","subscription","unsubscribe","isDisabled","_jsxs","onClick","showInfo","userId","id","result","syncAllUserData","success","succeeded","showError","failed","className","children","_jsx","FiRefreshCw","size","DashboardContainer","div","DashboardHeader","ModulesGrid","ModuleCard","Link","ModuleIcon","ModuleTitle","h3","ModuleDescription","p","WelcomeSection","WelcomeTitle","h2","WelcomeText","Dashboard","to","FiCheckSquare","FiDollarSign","FiTrendingUp","FiTarget","FiCalendar","as","document","querySelector","click","FiDatabase"],"sourceRoot":""}